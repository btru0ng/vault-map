<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>URL Test</title>
</head>
<body>
    <h1>Testing Data Loading...</h1>
    <p id="status">Loading...</p>
    <pre id="output"></pre>

    <script>
        // !!! IMPORTANT: REPLACE THESE URLs WITH YOUR ACTUAL GITHUB PAGES PUBLIC RAW.GITHUBUSERCONTENT.COM URLs !!!
        // Example: "https://raw.githubusercontent.com/YOUR-USERNAME/YOUR-REPOSITORY-NAME/main/JB%20-%20Telecom%20Ducts%20Markup%20-%20Availability%203.21.2025.jpg"
        const imageUrl = "https://raw.githubusercontent.com/btru0ng/vault-map/main/JB%20-%20Telecom%20Ducts%20Markup%20-%20Availability%203.21.2025.jpg";
        const coordinatesUrl = "https://raw.githubusercontent.com/btru0ng/vault-map/main/Telecom%20Audit%20v1%20Doc%201.xlsx%20-%20Conduit%20Coordinates.csv";
        const availabilityUrl = "https://raw.githubusercontent.com/btru0ng/vault-map/main/Telecom%20Audit%20v1%20Doc%201.xlsx%20-%20Conduit%20Availability%20Tracker.csv";

        document.addEventListener('DOMContentLoaded', async () => {
            const statusElement = document.getElementById('status');
            const outputElement = document.getElementById('output');

            statusElement.textContent = "Attempting to fetch data...";

            try {
                // Test fetching coordinates CSV
                const coordsResponse = await fetch(coordinatesUrl);
                if (!coordsResponse.ok) {
                    throw new Error(`HTTP error! status: ${coordsResponse.status} from ${coordinatesUrl}`);
                }
                const coordsText = await coordsResponse.text();
                
                statusElement.textContent += `\\nCoordinates CSV fetched successfully. Length: ${coordsText.length}. Parsing...`;
                outputElement.textContent = "Coordinates CSV Content (first 500 chars):\\n" + coordsText.substring(0, 500) + "\\n\\n";

                // Test fetching availability CSV
                const availResponse = await fetch(availabilityUrl);
                if (!availResponse.ok) {
                    throw new Error(`HTTP error! status: ${availResponse.status} from ${availabilityUrl}`);
                }
                const availText = await availResponse.text();

                statusElement.textContent += `\\nAvailability CSV fetched successfully. Length: ${availText.length}. Parsing...`;
                outputElement.textContent += "Availability CSV Content (first 500 chars):\\n" + availText.substring(0, 500);

                // Test fetching image
                const imgResponse = await fetch(imageUrl);
                if (!imgResponse.ok) {
                    throw new Error(`HTTP error! status: ${imgResponse.status} from ${imageUrl}`);
                }
                statusElement.textContent += `\\nImage fetched successfully.`;
                
                statusElement.textContent = "All files fetched successfully! Check console for full content if desired.";

            } catch (error) {
                statusElement.textContent = `Error during fetch: ${error.message}`;
                console.error("Fetch Error:", error);
            }
        });
    </script>
</body>
</html>
